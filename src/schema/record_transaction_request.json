{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://ksh/RecordTransactionRequest",
  "title": "RecordTransactionRequest",
  "type": "object",
  "properties": {
    "ticketNumber": {
      "type": "string"
    },
    "binCard": {
      "type": "string"
    },
    "binType": {
      "type": "number"
    },
    "transactionId": {
      "type": "string"
    },
    "transactionReference": {
      "type": "string"
    },
    "currencyCode": {
      "type": "string"
    },
    "extraTaxes": {
      "type": ["object", "string"]
    },
    "isDeferred": {
      "type": ["boolean", "string"]
    },
    "transactionType": {
      "type": "string"
    },
    "processorChannel": {
      "type": "string"
    },
    "cardHolderName": {
      "type": "string"
    },
    "cardCountryCode": {
      "type": "string"
    },
    "cardCountry": {
      "type": "string"
    },
    "numberOfMonths": {
      "type": "integer"
    },
    "merchantId": {
      "type": "string"
    },
    "processorId": {
      "type": "string"
    },
    "processorType": {
      "type": "string"
    },
    "processorPrivateId": {
      "type": "string"
    },
    "commerceCode": {
      "type": "string"
    },
    "merchantName": {
      "type": "string"
    },
    "partner": {
      "type": "string"
    },
    "paymentBrand": {
      "type": "string"
    },
    "consortiumName": {
      "type": "string"
    },
    "cardType": {
      "type": "string"
    },
    "lastFourDigitsOfCard": {
      "type": "string"
    },
    "dateAndTimeTransaction": {
      "type": "string",
      "pattern": "^(0[1-9]|[12][0-9]|3[01])(0[1-9]|1[012])(20)\\d\\d(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])$"
    },
    "requestAmount": {
      "type": "number"
    },
    "approvedTransactionAmount": {
      "type": "number"
    },
    "approvalCode": {
      "type": "string"
    },
    "processorBankName": {
      "type": "string"
    },
    "subtotalIVA": {
      "type": "number"
    },
    "subtotalIVA0": {
      "type": "number"
    },
    "ivaValue": {
      "type": "number"
    },
    "iceValue": {
      "type": "number"
    },
    "transactionStatus": {
      "type": "string"
    },
    "Metadata": {
      "type": "object"
    },
    "subscription_metadata": {
      "type": "object"
    },
    "subscriptionId": {
      "type": "string"
    },
    "responseCode": {
      "type": "string"
    },
    "responseText": {
      "type": "string"
    },
    "method": {
      "type": "string"
    },
    "syncMode": {
      "enum": ["api", "file", "online"]
    },
    "saleTicketNumber": {
      "type": "string"
    },
    "processorName": {
      "type": "string"
    },
    "graceMonths": {
      "type": "string"
    },
    "creditType": {
      "type": "string"
    },
    "settlement": {
      "type": "number"
    },
    "issuingBank": {
      "type": "string"
    },
    "pendingAmount": {
      "type": "number"
    },
    "country": {
      "type": "string"
    },
    "foreignCard": {
      "type": "boolean"
    },
    "preauthTransactionReference": {
      "type": "string"
    },
    "acquirerBank": {
      "type": "string"
    },
    "rules": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      }
    },
    "interest_amount": {
      "type": "number"
    },
    "plcc": {
      "type": "boolean"
    },
    "action": {
      "type": "string"
    },
    "integration": {
      "type": "string"
    },
    "buy_order": {
      "type": "string"
    },
    "integration_method": {
      "type": "string"
    },
    "parentMerchantId": {
      "type": "string"
    },
    "parentTicketNumber": {
      "type": "string"
    },
    "secureCode": {
      "type": "string"
    },
    "secureMessage": {
      "type": "string"
    },
    "transactionCardId": {
      "type": "string"
    },
    "fullResponse": {
      "type": ["boolean", "string"]
    },
    "originalBin": {
      "type": "string"
    },
    "kushkiInfo": {
      "type": "object"
    },
    "securityIdentity": {
      "type": "object"
    },
    "merchantData": {
      "type": "object"
    },
    "externalReferenceId": {
      "type": "string",
      "pattern": "^[\\w\\-]{5,64}$"
    }
  },
  "required": [
    "transactionId",
    "currencyCode",
    "transactionType",
    "numberOfMonths",
    "isDeferred",
    "merchantId",
    "merchantName",
    "lastFourDigitsOfCard",
    "dateAndTimeTransaction",
    "requestAmount",
    "approvedTransactionAmount",
    "approvalCode",
    "processorBankName",
    "subtotalIVA",
    "subtotalIVA0",
    "ivaValue",
    "iceValue",
    "transactionStatus",
    "cardHolderName",
    "binCard"
  ]
}
